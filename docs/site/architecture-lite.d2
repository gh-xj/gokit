title: "agentcli-go Architecture (Lite)"

direction: right

user: "Human / AI Agent"
cli: "agentcli CLI"
scaffold: "Scaffold Engine\n(new, add command)"
contracts: "Contract Checks\n(doctor --json)"
project: "Generated Go CLI Project"
gates: "Task Gates\n(fmt, lint, test, build, smoke, ci, verify)"
schemas: "JSON Schemas\n(schemas/*)"
skill: "Verification Skill Layer\n(skills/verification-loop)"

user -> cli: "run commands"
cli -> scaffold: "generate/update"
cli -> contracts: "validate structure"
scaffold -> project: "write project files"
contracts -> project: "inspect project"
project -> gates: "run deterministic checks"
gates -> schemas: "validate artifacts"
user -> skill: "advanced loop workflow"
skill -> cli: "orchestrate loop commands"
